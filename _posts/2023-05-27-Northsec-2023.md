---
published: false
---
## Northsec 2023

### Annual Review (aws track) writeup

This challenge greeted us web hosted application and credentials for a user (user : 120875ABAB, password : XvsKqambqCYOJj9rxcIQ). Once logged in with de given user, we land on a page with an employee review of our user, a logout button and a "Read the annual review guide" button.\
![employeeReview](/images/aws/employeeReview.png)\

### Flag 1

When we clicked on the annual review button, we see that the parameter file is specify in the url, thats a good hint to [file intrusin](https://en.wikipedia.org/wiki/File_inclusion_vulnerability).\
![lfi](/images/aws/lfi.png)\

Since we cee that our current page is preview.php, our first guess is /var/www/html/index.php and bingo!\
![index](/images/aws/indexPhp.png)\

We now have the source code of the home page and the first thing we see is that it requires the 'libs/utils.php' file. Lets look at it!
![utils](/images/aws/utils.png)\

Same thing again, but with dynamo.php (hint to dynamoDb in aws!), and we get the first flag : flag-d19650aa911acb7c130aa380601d169d3bd08ab4\
![flag1](/images/aws/flag1.png)\

### Flag 2

Additionally, in the source code of this file, we get credentials for a new user and 2 databases, GOD_LoginEmployee and GOD_ReviewEmployee.\

From here we need to user the [aws command-line interface tool](https://docs.aws.amazon.com/cli/latest/userguide/getting-started-install.html).\ Since we have that hint for dynamodb in the filename, a quick question to chatgpt for the command to scan aws dynamo databases we get that command :\
`aws dynamodb scan --table-name GOD_LoginEmployee`\
But first, we need to configure the credentials we got with `aws configure`.\
We now get the second flag as one of the employee's password : flag-9add6a1bb1cde15c378eacbacd720efc69501967 !!\
![flag2](/images/aws/flag2.png)

### Flag 3

Next, let's look at the next database : `aws dynamodb scan --table-name GOD_LoginEmployee`\
![documentation](/images/aws/documentation.png)\
We see that one of the employee wrote solid documentation that is referenced is a s3 bucket, we can download that md file and take a look at it.\
![flag3](/images/aws/flag3.png)\
There's the 3rd flag : flag-7fa969573c3ff2190e892095166cf71635eca0be !

### Flag 4
We also got credentials and documentation on how to use it. Lets try it!\

Enter text in [Markdown](http://daringfireball.net/projects/markdown/). Use the toolbar above, or click the **?** button for formatting help.
